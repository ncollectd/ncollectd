.\" SPDX-License-Identifier: GPL-2.0-only
.Dd @NCOLLECTD_DATE@
.Dt NCOLLECTD-ZOOKEEPER 5
.Os ncollectd @NCOLLECTD_VERSION@
.Sh NAME
.Nm ncollectd-zookeeper
.Nd Documentation of ncollectd's zookeeper plugin
.Sh SYNOPSIS
.Bd -literal -compact
\fBload-plugin\fP zookeeper
\fBplugin\fP zookeeper {
    \fBinstance\fP \fIname\fP {
        \fBhost\fP \fIhost\fP
        \fBport\fP \fIservice\fP
        \fBlabel\fP \fIkey\fP \fIvalue\fP
        \fBinterval\fP \fIinterval\fP
        \fBfilter\fP {
            ...
        }
    }
}
.Ed
.Sh DESCRIPTION
The \fBzookeeper\fP plugin will collect statistics from a \fIzookeeper\fP
server using the \fImntr\fP command.
It requires Zookeeper 3.4.0+ and access to the client port.
.Pp
The plugin configuration consists of one or more \fBinstance\fP blocks which
specify one \fIzookeper\fP connection each.
Within the \fBinstance\fP blocks, the following options are allowed:
.Bl -tag -width Ds
.It \fBhost\fP \fIhost\fP
Hostname or address to connect to.
Defaults to \f(CWlocalhost\fP.
.It \fBport\fP \fIservice\fP
Service name or port number to connect to.
Defaults to \f(CW2181\fP.
.It \fBlabel\fP \fIkey\fP \fIvalue\fP
Append the label \fIkey\fP=\fIvalue\fP to the submitting metrics.
.It \fBinterval\fP \fIinterval\fP
Sets the interval (in seconds) in which the values will be collected from this
instance.
By default the global \fBinterval\fP setting will be used.
.It \fBfilter\fP
Configure a filter to modify or drop the metrics.
See \fBFILTER CONFIGURATION\fP in
.Xr ncollectd.conf 5 .
.El
.Sh "SEE ALSO"
.Xr ncollectd 1 ,
.Xr ncollectd.conf 5
